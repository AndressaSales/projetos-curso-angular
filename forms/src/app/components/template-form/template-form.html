<form #f="ngForm" (ngSubmit)="onSubmit(f)" class="form-horizontal">
    <div class="form-group" [ngClass]="aplicaCssErro(nome)">
        <div class="col-sm-12">
            <label for="nome" class="fw-bold">Nome</label>
        </div>
        <div class="col-sm-12">
          <input type="text" class="form-control"  [ngClass]="aplicaCssErro(nome)" id="nome" placeholder="Nome" [ngModel]="usuario.nome" name="nome" required #nome="ngModel">
          <app-campo-control-erro msgErro="Nome é obrigatório." [mostrarErro]="verificaValidTouched(nome)" />
        </div>
    </div>
    <hr>
    <div class="form-group" [ngClass]="aplicaCssErro(email)">
        <div class="col-sm-12">
            <label for="email" class="fw-bold">Email</label>
        </div>
        <div class="col-sm-12">
            <input type="email" class="form-control" [ngClass]="aplicaCssErro(email)" id="email" placeholder="Nome@email.com" [ngModel]="usuario.email" name="email" required #email="ngModel">
            <app-campo-control-erro msgErro="Email é obrigatório." [mostrarErro]="verificaValidTouched(email)" />
        </div>
    </div>
    <div ngModelGroup="endereco">
        <div class="row g-3">
                <div class="col-md-4" [ngClass]="aplicaCssErro(cep)">
                    <label for="cep" class="control-label">CEP</label>
                    <input type="text" class="form-control" [ngClass]="aplicaCssErro(cep)" id="cep" name="cep" ngModel required #cep="ngModel" (blur)="consultaCEP(cep)">
                <app-campo-control-erro msgErro="Cep é obrigatório." [mostrarErro]="verificaValidTouched(cep)" />
                </div>
                <div class="col-md-4">
                    <div class="has-validation" [ngClass]="aplicaCssErro(numero)">
                    <label for="numero" class="control-label">Número</label>
                    <input type="text" class="form-control" [ngClass]="aplicaCssErro(numero)" id="numero" name="numero" ngModel required #numero="ngModel">
                    <app-campo-control-erro msgErro="Número é obrigatório." [mostrarErro]="verificaValidTouched(numero)" />
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="has-validation">
                    <label for="complemento" class="control-label">Complemento</label>
                    <input type="text" class="form-control" id="complemento" name="complemento" ngModel #complemento="ngModel">
                    </div>
                </div>
        </div>

        <div class="form-group pt-2" >
                <div class="col-sm-12">
                    <div class="col-sm-12">
                        <label for="rua" class="fw-bold" [ngClass]="aplicaCssErro(rua)" >Rua</label>
                    </div>
                    <input type="text" class="form-control" id="nome" [ngClass]="aplicaCssErro(rua)" [ngModel]="usuario.nome" name="rua" required #rua="ngModel">
                    <app-campo-control-erro msgErro="Rua é obrigatório." [mostrarErro]="verificaValidTouched(rua)" />
                </div>
        </div>

        <div class="row g-3">
            <div class="col-md-4" [ngClass]="aplicaCssErro(bairro)">
                <label for="bairro" class="control-label fw-bold">Bairro</label>
                <input type="text" name="bairro" class="form-control" id="bairro" [ngClass]="aplicaCssErro(bairro)" ngModel nome="bairro" required #bairro="ngModel">    

                <app-campo-control-erro msgErro="Bairro é obrigatório." [mostrarErro]="verificaValidTouched(bairro)" />
            </div>
            <div class="col-md-4" [ngClass]="aplicaCssErro(cidade)">
                <label for="cidade" class="fw-bold" >Cidade</label>
                <input type="text" class="form-control" placeholder="Recife" id="cidade" name="cidade" required ngModel #cidade="ngModel" [ngClass]="aplicaCssErro(cidade)">
                <app-campo-control-erro msgErro="Cidade é obrigatório." [mostrarErro]="verificaValidTouched(cidade)" />
            </div>
            <div class="col-md-4" [ngClass]="aplicaCssErro(estado)">
                <label for="estado" class="fw-bold">Estado</label>
                <input type="text" placeholder="PE" class="form-control" required ngModel #estado="ngModel" name="estado" [ngClass]="aplicaCssErro(estado)">

                <app-campo-control-erro [mostrarErro]="verificaValidTouched(estado)" msgErro="Estado é obrigatório." />
            </div>
        </div>
        <div class="p-2"></div>
    </div>
    <button type="submit" class="btn btn-info" [disabled]="!f.valid">Submit</button>
</form>